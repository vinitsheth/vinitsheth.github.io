<!doctype html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8" lang="en"><![endif]-->
<!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9" lang="en"><![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"><!--<![endif]-->

<head>
    <style type="text/css">
	    .article-wrap img{border-radius: 5px;}
		.titled-image figure{text-align: center;}
	</style>
	<meta charset="utf-8">
<title>Vinit Sheth's Website  &#8211; Particle Filter </title>
<meta name="description" content="">
<meta name="keywords" content="Monte Carlo, statistical inference">




<!-- MathJax -->
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
</script>
<script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>


<!-- Open Graph -->
<meta property="og:locale" content="en_US">
<meta property="og:type" content="article">
<meta property="og:title" content="Particle Filter">
<meta property="og:description" content="Welcome to my site.">
<meta property="og:url" content="http://localhost:4000/Extras/2018-07-19-Particle-Filter/">
<meta property="og:site_name" content="Vinit Sheth's Website">





<link rel="canonical" href="http://localhost:4000/Extras/2018-07-19-Particle-Filter/">
<link href="http://localhost:4000/feed.xml" type="application/atom+xml" rel="alternate" title="Vinit Sheth's Website Feed">


<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- Google Webfonts -->
<link href='https://fonts.googleapis.com/css?family=PT+Sans+Narrow:400,700|PT+Serif:400,700,400italic' rel='stylesheet' type='text/css'>
<!-- For all browsers -->
<link rel="stylesheet" href="http://localhost:4000/assets/css/main.min.css">
<link rel="stylesheet" href="http://localhost:4000/assets/academicons.css" />

<meta http-equiv="cleartype" content="on">

<!-- HTML5 Shiv and Media Query Support -->
<!--[if lt IE 9]>
	<script src="http://localhost:4000/assets/js/vendor/html5shiv.min.js"></script>
	<script src="http://localhost:4000/assets/js/vendor/respond.min.js"></script>
<![endif]-->

<!-- Modernizr -->
<script src="http://localhost:4000/assets/js/vendor/modernizr-2.7.1.custom.min.js"></script>

<!-- Icons -->
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="96x96" href="/favicon-96x96.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">

<link rel="shortcut icon" href="http://localhost:4000/favicon.ico">
<link rel="shortcut icon" href="http://localhost:4000/favicon.png">

<!-- 144x144 (precomposed) for iPad 3rd and 4th generation -->
<link rel="apple-touch-icon-precomposed" sizes="192x192" href="http://localhost:4000/images/apple-icon-precomposed.png">

</head>

<body class="post">

<!--[if lt IE 9]><div class="browser-upgrade alert alert-info">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</div><![endif]-->

<div class="navigation-wrapper">
	<div class="site-name">
		<a href="http://localhost:4000">Vinit Sheth's Website</a>
	</div><!-- /.site-name -->
	<div class="top-navigation">
		<nav role="navigation" id="site-nav" class="nav">
		    <ul>
		        
				<li><a href="http://localhost:4000/cv/" >Curriculum</a></li>
		        
				<li><a href="http://localhost:4000/projects/" >Projects</a></li>
		        
				<li><a href="http://localhost:4000/courses/" >Courses</a></li>
		        
		    </ul>
		</nav>
	</div><!-- /.top-navigation -->
</div><!-- /.navigation-wrapper -->



<div id="main" role="main">
  <div class="article-author-side">
    
	<img src="http://localhost:4000/images//author_images/VinitSmall.jpg" class="bio-photo" alt="Vinit Sheth bio photo"></a>

<h3>Vinit Sheth</h3>
<p>Data Science , Machine Learning, Artificial Intelligence.</p>



<a href="http://linkedin.com/in/vinit-sheth" class="author-social" target="_blank"><i class="fa fa-linkedin-square"></i> LinkedIn</a>


<a href="http://github.com/vinitsheth" class="author-social" target="_blank"><i class="fa fa-github-square"></i> GitHub</a>









<a href="http://facebook.com/vinitgsheth" class="author-social" target="_blank"><i class="fa fa-facebook-square"></i> Facebook</a>
<a href="mailto:vsheth2@asu.edu" class="author-social" target="_blank"><i class="fa fa-envelope-square"></i> E-Mail</a>
<a href="https://drive.google.com/open?id=1ElcWvlcYgbx_Pw4amAY230AAM5meI6zQ" class="author-social" target="_blank"><i class="fa fa-file"></i>Resume</a>
  </div>
  <article>
    <div class="headline-wrap">
      
        <h1><a href="http://localhost:4000/Extras/2018-07-19-Particle-Filter/" rel="bookmark" title="Particle Filter">Particle Filter</a></h1>
      
    </div><!--/ .headline-wrap -->
    <div class="article-wrap">
      <h2 id="introduction">Introduction</h2>

<p>Particle filter is a Monte Carlo algorithm used to solve statistical inference problems. In this project, the turtle location and heading direction in maze was infered using particle filter. The green turtle is the actual location while the orange turtule is the estimated location. The arrows are particles. Blue arrows stand for low probability particles while red arrows stand for high probability particles. There are four sensors installed on the front, back, left and right of the turtle. The sensors measure its perpendicular distances to the closest walls in four directions, possibly bounded by some sensor limit.</p>

<table>
  <thead>
    <tr>
      <th style="text-align: center">Particle Filter Start</th>
      <th style="text-align: center">Particle Filter Equilibrated</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center"><img src="/images/projects/2018-07-19-Particle-Filter/particle_filter_start.png" alt="" /></td>
      <td style="text-align: center"><img src="/images/projects/2018-07-19-Particle-Filter/particle_filter_converged.png" alt="" /></td>
    </tr>
  </tbody>
</table>

<h2 id="files">Files</h2>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>.
├── LICENSE.md
├── main.py
├── maze.py
└── README.md
</code></pre></div></div>

<h2 id="dependencies">Dependencies</h2>

<ul>
  <li>Python 3.6</li>
  <li>Numpy 1.14</li>
</ul>

<h2 id="usages">Usages</h2>

<p>The following parameters could be adjusted for the particle filter.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>python main.py <span class="nt">--help</span>
usage: main.py <span class="o">[</span><span class="nt">-h</span><span class="o">]</span> <span class="o">[</span><span class="nt">--window_width</span> WINDOW_WIDTH]
               <span class="o">[</span><span class="nt">--window_height</span> WINDOW_HEIGHT] <span class="o">[</span><span class="nt">--num_particles</span> NUM_PARTICLES]
               <span class="o">[</span><span class="nt">--sensor_limit_ratio</span> SENSOR_LIMIT_RATIO]
               <span class="o">[</span><span class="nt">--grid_height</span> GRID_HEIGHT] <span class="o">[</span><span class="nt">--grid_width</span> GRID_WIDTH]
               <span class="o">[</span><span class="nt">--num_rows</span> NUM_ROWS] <span class="o">[</span><span class="nt">--num_cols</span> NUM_COLS]
               <span class="o">[</span><span class="nt">--wall_prob</span> WALL_PROB] <span class="o">[</span><span class="nt">--random_seed</span> RANDOM_SEED]
               <span class="o">[</span><span class="nt">--robot_speed</span> ROBOT_SPEED] <span class="o">[</span><span class="nt">--kernel_sigma</span> KERNEL_SIGMA]
               <span class="o">[</span><span class="nt">--particle_show_frequency</span> PARTICLE_SHOW_FREQUENCY]

Particle filter <span class="k">in </span>maze.

optional arguments:
  <span class="nt">-h</span>, <span class="nt">--help</span>            show this <span class="nb">help </span>message and <span class="nb">exit</span>
  <span class="nt">--window_width</span> WINDOW_WIDTH
                        Window width.
  <span class="nt">--window_height</span> WINDOW_HEIGHT
                        Window height.
  <span class="nt">--num_particles</span> NUM_PARTICLES
                        Number of particles used <span class="k">in </span>particle filter.
  <span class="nt">--sensor_limit_ratio</span> SENSOR_LIMIT_RATIO
                        Distance limit of sensors <span class="o">(</span>real value: 0 - 1<span class="o">)</span><span class="nb">.</span> 0:
                        Useless sensor<span class="p">;</span> 1: Perfect sensor.
  <span class="nt">--grid_height</span> GRID_HEIGHT
                        Height <span class="k">for </span>each grid of maze.
  <span class="nt">--grid_width</span> GRID_WIDTH
                        Width <span class="k">for </span>each grid of maze.
  <span class="nt">--num_rows</span> NUM_ROWS   Number of rows <span class="k">in </span>maze
  <span class="nt">--num_cols</span> NUM_COLS   Number of columns <span class="k">in </span>maze
  <span class="nt">--wall_prob</span> WALL_PROB
                        Wall probability of a random maze.
  <span class="nt">--random_seed</span> RANDOM_SEED
                        Random seed <span class="k">for </span>random maze and particle filter.
  <span class="nt">--robot_speed</span> ROBOT_SPEED
                        Robot movement speed <span class="k">in </span>maze.
  <span class="nt">--kernel_sigma</span> KERNEL_SIGMA
                        Sigma <span class="k">for </span>gaussian distance kernel.
  <span class="nt">--particle_show_frequency</span> PARTICLE_SHOW_FREQUENCY
                        Frequency of showing particles on maze.
</code></pre></div></div>

<p>To run particle filter using default parameters, simply run the following command in terminal:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>python main.py
</code></pre></div></div>

<h2 id="demo">Demo</h2>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>python main.py <span class="nt">--num_particles</span> 1000 <span class="nt">--kernel_sigma</span> 500 <span class="nt">--random_seed</span> 200
</code></pre></div></div>

<div class="titled-image">
<figure>
    <img src="http://localhost:4000/images/projects/2018-07-19-Particle-Filter/particle_filter_demo.gif" width="60%" />
    <figcaption>Particle Filter</figcaption>
</figure>
</div>

<h2 id="references">References</h2>

<p><a href="https://github.com/mjl/particle_filter_demo">Beacon Based Particle Filter</a></p>

<p><br /></p>

<p>Some of the code in this project were revised from the Beacon Based Particle Filter project. But the robot environment is totally different and the sensor measure mechanism is also totally different. The robot in this project could be more clumsy compared to the robot used in the Beacon Based Particle Filter project, but the particle filter still inferred the correct location and heading direction.</p>

<h2 id="notes">Notes</h2>

<p>I found that if the number of particles is not sufficiently large, particularly for some complicated environment, such as the maze which looks quite similar in many local regions, and when the sensor is not perfect, sometimes it will take much longer time, after many rounds of particle reinitializations, to get the right location of the turtle. So the number of particles is definitely the most important parameters for particle filter. However, it slows down the computations.</p>

<p><br /></p>

<p>If the number of particles is not sufficiently large, sometimes adjusting the standard deivation of Gaussian kernel might make it converges faster.</p>

<p><br /></p>

<p>Although theoretically it is true, it is amazing to see that the particle filter could infer the heading direction of turtle correctly even if the sensor measurements do not contain direction information directly.</p>

<h2 id="miscellaneous">Miscellaneous</h2>

<p><a href="http://www.claudeonthe.net/ai/particle_filter/particle_filter.html">Particle Filter Online</a></p>

<p><br /></p>

<p>An interesting online particle filter that uses similar designs to mine.</p>

<h2 id="github">GitHub</h2>

<p><a href="https://github.com/leimao/Particle_Filter">Particle Filter</a></p>

      <hr />
      <footer role="contentinfo">
        <div class="article-author-bottom">
          
	<img src="http://localhost:4000/images//author_images/VinitSmall.jpg" class="bio-photo" alt="Vinit Sheth bio photo"></a>

<h3>Vinit Sheth</h3>
<p>Data Science , Machine Learning, Artificial Intelligence.</p>



<a href="http://linkedin.com/in/vinit-sheth" class="author-social" target="_blank"><i class="fa fa-linkedin-square"></i> LinkedIn</a>


<a href="http://github.com/vinitsheth" class="author-social" target="_blank"><i class="fa fa-github-square"></i> GitHub</a>









<a href="http://facebook.com/vinitgsheth" class="author-social" target="_blank"><i class="fa fa-facebook-square"></i> Facebook</a>
<a href="mailto:vsheth2@asu.edu" class="author-social" target="_blank"><i class="fa fa-envelope-square"></i> E-Mail</a>
<a href="https://drive.google.com/open?id=1ElcWvlcYgbx_Pw4amAY230AAM5meI6zQ" class="author-social" target="_blank"><i class="fa fa-file"></i>Resume</a>
        </div>
       <!-- <p class="byline"><strong>Particle Filter</strong> was published on <time datetime=""></time> and last modified on <time datetime="2018-06-13">June 13, 2018</time> by <a href="http://localhost:4000" title="About Vinit Sheth">Vinit Sheth</a>.</p> -->
      </footer>
    </div><!-- /.article-wrap -->
  
    <section id="disqus_thread"></section><!-- /#disqus_thread -->
  
  </article>
</div><!-- /#main -->

<div class="footer-wrap">
  <footer>
    <span>&copy; 2019 Vinit Sheth. Powered by <a href="http://jekyllrb.com">Jekyll</a> using the <a href="http://mademistakes.com/minimal-mistakes/">Minimal Mistakes</a> theme.</span>

  </footer>
</div><!-- /.footer-wrap -->

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="http://localhost:4000/assets/js/vendor/jquery-1.9.1.min.js"><\/script>')</script>
<script src="http://localhost:4000/assets/js/scripts.min.js"></script>


<!-- Asynchronous Google Analytics snippet -->
<!-- Old
<script>
  var _gaq = _gaq || [];
  var pluginUrl = 
 '//www.google-analytics.com/plugins/ga/inpage_linkid.js';
  _gaq.push(['_require', 'inpage_linkid', pluginUrl]);
  _gaq.push(['_setAccount', 'UA-133931159-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>
-->
<!-- New -->
<!-- Global Site Tag (gtag.js) - Google Analytics -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-133931159-1', 'auto');
  ga('send', 'pageview');

</script>



  
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'vinitsheth-github-io'; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = '//' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

	        

</body>
</html>